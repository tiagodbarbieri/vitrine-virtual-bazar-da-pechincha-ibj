{% extends "base.html" %}
{% block content %}
<body>
    <h1>Produtos Disponíveis</h1>

    <!-- Formulário para filtrar por categoria -->
    <form method="get">
        <label for="category">Filtrar por Categoria:</label>
        <select name="category" id="category">
            <option value="">Todas</option>
            {% for category in categories %}
            <option value="{{ category.id }}" {% if category.id|stringformat:"s" == request.GET.category %}selected{% endif %}>
                {{ category.name }}
            </option>
            {% endfor %}
        </select>
        <button type="submit">Filtrar</button>
    </form>

    <ul>
        {% for item in itens %}
        <li>
            <strong>Nome:</strong> {{ item.name }} <br>
            <strong>Preço:</strong> R$ {{ item.price }} <br>
            <strong>Categoria:</strong> {{ item.category.name }}
        </li>
        {% empty %}
        <p>Nenhum item encontrado.</p>
        {% endfor %}
    </ul>
</body>

{% endblock content %}
